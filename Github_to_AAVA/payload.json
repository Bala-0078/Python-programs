{"pipeLineId": 12658, "executionId": "3343139a-2f33-46a7-8697-6806b2486dd6", "user": "balamurugan.v@ascendion.com", "userInputs": {"{{python_code1}}": "app.py:import uvicorn\n\nif __name__ == \"__main__\":\n    uvicorn.run(\"main:app\", host=\"localhost\", port=2001, workers=1)\n", "{{python_code2}}": "main.py:from fastapi import FastAPI\nfrom fastapi.middleware.cors import CORSMiddleware\n\nfrom services import search_service\n\napp = FastAPI(title=\"Search Service\")\napp.include_router(search_service)\napp.add_middleware(CORSMiddleware, allow_origins=\"*\", allow_headers=[\"Content-Type\", \"Authorization\", \"Access-Control-Allow-Credentials\"], allow_credentials=True)\n", "{{python_code3}}": "services.py:from fastapi import APIRouter, Request\nimport meilisearch\n\nsearch_service = APIRouter()\nmeili_client = meilisearch.Client(\"http://127.0.0.1:10001\")\n\n@search_service.get(\"/search/{word}\")\ndef search_item(word):\n    resp_json = {\n        \"status\": \"failed\"\n    }\n    word_meaning = meili_client.index(\"dictionary\").search(word, {\"limit\": 2})\n    if \"hits\" in word_meaning and word_meaning[\"hits\"]:\n        first_word = word_meaning[\"hits\"][0]\n        resp_json = first_word\n        resp_json[\"status\"] = \"success\"\n\n    return resp_json\n\n@search_service.get(\"/continuous_search/{word}\")\ndef continuous_search(word):\n    resp = list()\n\n    words = meili_client.index(\"dictionary\").search(word, {\n        \"limit\": 5,\n        \"sort\": [\"word:asc\"]\n    })\n\n    for each_word in words[\"hits\"]:\n        current_word = each_word[\"word\"]\n        if word.lower() in current_word.lower():\n            resp.append(current_word)\n    return resp\n", "{{python_code4}}": "test_meili/insert.py:import meilisearch\nimport json\n\nclient = meilisearch.Client(\"http://127.0.0.1:10001\")\n\njson_file = open(\"words_json.json\")\ndict_file = json.load(json_file)\n\n# # creating index\n# resp = client.create_index(\"dictionary\", {\"primaryKey\":\"word\"})\n# print(resp)\n\n# # pushing documents\nresp = client.index(\"dictionary\").add_documents(dict_file)\nprint(resp)\n\n# # update documents\n# client.index(\"dictionary\").update_settings({\n#     \"sortableAttributes\":[\n#         \"word\"\n#     ]\n# })\n\n# resp = client.index(\"dictionary\").update_ranking_rules([\n#     \"word\",\n#     \"meaning\"\n# ])\n", "{{python_code5}}": "test_meili/search.py:import meilisearch\nimport json\n\nclient = meilisearch.Client(\"http://127.0.0.1:10001\")\n\nmovie = client.index(\"dictionary\").search(\"qua\",{\"limit\": 200})\n\nprint(movie)", "{{python_code6}}": "test_meili/to_json.py:import json\n\nwith open(\"TextFile.txt\", \"r\") as f:\n    lines = f.readlines()\n\nprint(lines)\n\nwords_list = list()\nfor each_line in lines:\n    each_line = each_line.strip()\n    elements = each_line.split(\" \")\n    word = elements[0]\n\n    meaning = \" \".join(elements[2:])\n\n    temp_dict = {\n        \"word\": word,\n        \"meaning\": meaning\n    }\n    words_list.append(temp_dict)\n\nwords_json_str = json.dumps(words_list)\n\nwith open(\"words_json.json\", \"w\") as files:\n    files.write(words_json_str)\n\nprint(\" \")"}, "priority": 0}